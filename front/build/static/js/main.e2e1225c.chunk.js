(this["webpackJsonpstack-board"]=this["webpackJsonpstack-board"]||[]).push([[0],{218:function(e,t,n){},228:function(e,t,n){},237:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var r=n(86),a=n.n(r),s=n(30),i=n(31),c=new(function(){function e(){Object(s.a)(this,e),this.services={},this.servicesInstances={}}return Object(i.a)(e,[{key:"registerService",value:function(e,t){this.services[e]=t}},{key:"getService",value:function(e){if(!this.servicesInstances[e]){if(!this.services[e])throw new Error("Can't find service with id ".concat(e));this.servicesInstances[e]=new this.services[e]}return this.servicesInstances[e]}}]),e}()),o=n(13),u=n.n(o),l=n(25),p=n(24);function d(){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ready();case 2:return t=Object(p.getExtensionContext)(),e.next=5,Object(p.getService)("ms.vss-features.extension-data-service");case 5:return n=e.sent,e.next=8,Object(p.getAccessToken)();case 8:return r=e.sent,e.abrupt("return",n.getExtensionDataManager(t.id,r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h="TemplateService",j=function(){function e(){Object(s.a)(this,e),this.manager=void 0,this.getManager()}return Object(i.a)(e,[{key:"getTemplate",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getManager();case 2:return t=e.sent,e.prev=3,e.t0=t,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2={defaultValue:[]},e.abrupt("return",e.t0.getDocuments.call(e.t0,e.t1,e.t2));case 12:return e.prev=12,e.t3=e.catch(3),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"saveTemplate",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.getManager();case 3:return n=e.sent,e.t0=n,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2=t,e.next=11,e.t0.setDocument.call(e.t0,e.t1,e.t2);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeTemplate",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getManager();case 2:return n=e.sent,e.prev=3,e.t0=n,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2=t,e.next=11,e.t0.deleteDocument.call(e.t0,e.t1,e.t2);case 11:e.next=15;break;case 13:e.prev=13,e.t3=e.catch(3);case 15:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getManager",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.manager){e.next=4;break}return e.next=3,d();case 3:this.manager=e.sent;case 4:return e.abrupt("return",this.manager);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getCollection",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="BaseTemplateCollections",e.next=3,p.getService("ms.vss-tfs-web.tfs-page-data-service");case 3:return n=e.sent,e.next=6,n.getProject();case 6:return r=e.sent,e.abrupt("return","".concat(t,"-").concat(r.id));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),f="ProjectService",g=function(){function e(){Object(s.a)(this,e),this.manager=void 0,this.getManager()}return Object(i.a)(e,[{key:"getProject",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getManager();case 2:return t=e.sent,e.prev=3,e.t0=t,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2={defaultValue:[]},e.abrupt("return",e.t0.getDocuments.call(e.t0,e.t1,e.t2));case 12:return e.prev=12,e.t3=e.catch(3),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"saveProject",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.getManager();case 3:return n=e.sent,e.t0=n,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2=t,e.next=11,e.t0.setDocument.call(e.t0,e.t1,e.t2);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeProject",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getManager();case 2:return n=e.sent,e.prev=3,e.t0=n,e.next=7,this._getCollection();case 7:return e.t1=e.sent,e.t2=t,e.next=11,e.t0.deleteDocument.call(e.t0,e.t1,e.t2);case 11:e.next=15;break;case 13:e.prev=13,e.t3=e.catch(3);case 15:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getManager",value:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.manager){e.next=4;break}return e.next=3,d();case 3:this.manager=e.sent;case 4:return e.abrupt("return",this.manager);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getCollection",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="BaseProjectCollections",e.next=3,p.getService("ms.vss-tfs-web.tfs-page-data-service");case 3:return n=e.sent,e.next=6,n.getProject();case 6:return r=e.sent,e.abrupt("return","".concat(t,"-").concat(r.id));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();c.registerService(h,j),c.registerService(f,g),Array.prototype.sortByProp=function(e){try{return this.sort((function(t,n){return t[e].toLowerCase()>n[e].toLowerCase()?1:t[e].toLowerCase()<n[e].toLowerCase()?-1:0}))}catch(t){return this}},Object.prototype.deepcopy=function(){var e,t=this;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n].deepcopy();return e}if(t instanceof Object){for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=t[a].deepcopy());return e}throw new Error("Unable to copy obj! Its type isn't supported.")};var v=n(11),b=n(43),x=n(42),O=n(0),y=n.n(O),w=(n(218),n(28)),S=n(90),C=n(95),P=n(12),k=n(40),T=(n(228),n(18)),N=n(91),I=n(94),A=n(29),D=n(33),B=n(196),E=n(7),R=n(3),L=n(70),U=[{id:1,text:"C#"},{id:2,text:"API"},{id:3,text:"React"},{id:4,text:"SQLServer"}],M=(L.a.choiceGroupBarUnselected,L.a.choiceGroupBarSelected,L.a.choiceGroupBarUnselected,L.a.choiceGroupBarSelected,n(197)),z=n(204),_=n(49),V=n(9),G=n(10),K=n(4),q=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).selection=new T.ListSelection(!0),r.service=c.getService(h),r.renderRow=function(e,t,n,r){return Object(K.jsx)(T.ListItem,{index:e,details:n,children:Object(K.jsx)("div",{className:"template--list-row flex-row h-scroll-hidden",children:Object(K.jsxs)("div",{style:{marginLeft:"10px",padding:"10px 0px"},className:"flex-column h-scroll-hidden",children:[Object(K.jsx)("span",{className:"text-ellipsis",children:t.text}),Object(K.jsx)("span",{className:"fontSizeMS font-size-ms text-ellipsis secondary-text",children:t.description}),Object(K.jsx)("span",{className:"fontSizeMS font-size-ms text-ellipsis secondary-text",children:t.gitUrl}),Object(K.jsx)(z.a,{className:"flex-row",children:t.tags.map((function(e){return Object(K.jsx)(_.a,{size:_.b.compact,children:e.text})}))})]})})},r||"list-item"+e)},r.state={showAuthentication:!1,currentTemplate:r.getStartValue(),tagSuggestions:U,template:[]},r.service.getTemplate().then((function(e){r.setState({template:e.sortByProp("text")})})),r}return Object(i.a)(n,[{key:"getStartValue",value:function(){return{id:"",replaceKey:"",text:"",description:"",gitUrl:"",user:"",pass:"",tags:[]}}},{key:"onInputChange",value:function(e,t,n){var r=e.target.id.replace("__bolt-","");n.state.currentTemplate[r]=t,this.setState({currentTemplate:n.state.currentTemplate})}},{key:"isValid",value:function(){var e=this.state,t=e.currentTemplate,n=e.showAuthentication;return!!t.text&&""!==t.text.trim()&&!!t.description&&""!==t.description.trim()&&!!t.gitUrl&&""!==t.gitUrl.trim()&&!!t.replaceKey&&""!==t.replaceKey.trim()&&!!t.tags&&t.tags.length>0&&(!n||t.pass&&""!==t.pass.trim())}},{key:"render",value:function(){var e=this,t=this.state,n=t.showAuthentication,r=t.currentTemplate,a=t.template,s=t.tagSuggestions;return this.props.show?Object(K.jsx)(I.a,{onDismiss:this.props.onDismiss,titleProps:{text:"Template catalog"},description:"Base repository configuration for template generation.",footerButtonProps:[{text:"Close",onClick:this.props.onDismiss}],children:Object(K.jsxs)("div",{className:"template--content",children:[Object(K.jsxs)("div",{className:"template--group",children:[Object(K.jsx)("label",{className:"template--group-label",children:"Template *"}),Object(K.jsx)(A.a,{inputId:"text",value:r.text,onChange:function(t,n){return e.onInputChange(t,n,e)},placeholder:"Name your template"})]}),Object(K.jsx)("div",{className:"template--group",children:Object(K.jsx)(A.a,{inputId:"description",value:r.description,onChange:function(t,n){return e.onInputChange(t,n,e)},required:!0,multiline:!0,rows:4,placeholder:"Template description"})}),Object(K.jsxs)("div",{className:"template--group",children:[Object(K.jsx)("label",{className:"template--group-label",children:"Source repository *"}),Object(K.jsx)(A.a,{inputId:"gitUrl",value:r.gitUrl,onChange:function(t,n){return e.onInputChange(t,n,e)},required:!0,placeholder:"e.g. https://github.com/Microsoft/vscode.git"})]}),Object(K.jsxs)("div",{className:"template--group",children:[Object(K.jsxs)("label",{className:"template--group-label",children:["Replace key * \xa0\xa0\xa0",Object(K.jsx)(V.a,{ariaLabel:"Replace key info",iconName:"Info",tooltipProps:{anchorOffset:{horizontal:8,vertical:8},fixedLayout:!1,showOnFocus:!0,text:"This tooltip is designed to overflow to the bottom right",tooltipOrigin:{horizontal:G.a.start,vertical:G.a.start}}})]}),Object(K.jsx)(A.a,{inputId:"replaceKey",value:r.replaceKey,onChange:function(t,n){return e.onInputChange(t,n,e)},required:!0,placeholder:""})]}),Object(K.jsxs)("div",{className:"template--group",children:[Object(K.jsx)("label",{className:"template--group-label",children:"Tags *"}),Object(K.jsx)("div",{className:"flex-column",children:Object(K.jsx)(M.TagPicker,{noResultsFoundText:"No results found",areTagsEqual:function(e,t){return e.id===t.id},convertItemToPill:function(e){return{content:e.text}},onSearchChanged:function(t){var n=U.filter((function(e){return-1===r.tags.findIndex((function(t){return t.id===e.id}))})).filter((function(e){return e.text.toLowerCase().indexOf(t.toLowerCase())>-1}));e.setState({tagSuggestions:n})},onTagAdded:function(t){r.tags.push(t),e.setState({currentTemplate:r,tagSuggestions:U.filter((function(e){return-1===r.tags.findIndex((function(t){return t.id===e.id}))}))})},onTagRemoved:function(t){var n=r.tags.filter((function(e){return e.id!==t.id}));r.tags=n,e.setState({currentTemplate:r,tagSuggestions:U.filter((function(e){return-1===n.findIndex((function(t){return t.id===e.id}))}))})},renderSuggestionItem:function(e){return Object(K.jsx)("div",{className:"body-m",children:e.item.text})},selectedTags:r.tags,suggestions:s,suggestionsLoading:!1})})]}),Object(K.jsx)("div",{className:"template--group",children:Object(K.jsx)(B.Toggle,{text:"Requires authentication",checked:n,onChange:function(t,n){r.user="",r.pass="",e.setState({showAuthentication:n,currentTemplate:r})}})}),n&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"template--group",children:Object(K.jsx)(A.a,{inputId:"user",value:r.user,onChange:function(t,n){return e.onInputChange(t,n,e)},placeholder:"Username"})}),Object(K.jsx)("div",{className:"template--group",children:Object(K.jsx)(A.a,{inputId:"pass",value:r.pass,onChange:function(t,n){return e.onInputChange(t,n,e)},inputType:"password",required:!0,placeholder:"Password / PAT *"})})]}),Object(K.jsxs)("div",{className:"template--group template--add-button",children:[!r.id&&Object(K.jsx)(P.Button,{text:"Add",primary:!0,disabled:!this.isValid(),onClick:function(){r.id=N.Guid.create().toString(),a.push(r),e.service.saveTemplate(r),e.setState({showAuthentication:!1,currentTemplate:e.getStartValue(),template:e.state.template.sortByProp("text"),tagSuggestions:U})}}),r.id&&Object(K.jsxs)(k.ButtonGroup,{className:"template--add-button",children:[Object(K.jsx)(P.Button,{text:"Cancel",subtle:!0,onClick:function(){e.selection.clear(),e.setState({showAuthentication:!1,currentTemplate:e.getStartValue(),tagSuggestions:U})}}),Object(K.jsx)(P.Button,{text:"Delete",danger:!0,onClick:function(){e.selection.clear();var t=a.filter((function(e){return e.id!==r.id}));e.service.removeTemplate(r.id),e.setState({showAuthentication:!1,currentTemplate:e.getStartValue(),template:t.sortByProp("text"),tagSuggestions:U})}}),Object(K.jsx)(P.Button,{text:"Save",primary:!0,disabled:!this.isValid(),onClick:function(){e.selection.clear();var t=a.filter((function(e){return e.id!==r.id}));e.service.saveTemplate(r),t.push(r),t.length>0&&e.setState({showAuthentication:!1,currentTemplate:e.getStartValue(),template:t.sortByProp("text"),tagSuggestions:U})}})]})]}),a&&a.length>0&&Object(K.jsx)(S.Card,{children:Object(K.jsx)("div",{style:{display:"flex"},children:Object(K.jsx)(E.Observer,{itemProvider:new R.d(new D.a(a)),children:function(t){return Object(K.jsx)(T.ScrollableList,{width:"100%",itemProvider:t.itemProvider,renderRow:e.renderRow,selection:e.selection,onSelect:function(t,n){var r=U.filter((function(e){return-1===n.data.tags.findIndex((function(t){return t.id===e.id}))}));e.setState({showAuthentication:""!==n.data.pass,currentTemplate:n.data.deepcopy(),tagSuggestions:r})}})}})})})]})}):null}}]),n}(y.a.Component),F=n(20),J=n(106),H=(n(237),n(201)),W=n(93),Z=n(96),Q=Object(W.getClient)(Z.GitRestClient);function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(l.a)(u.a.mark((function e(t){var n,r,a,s,i,c,o,l,d,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ready();case 2:return e.next=4,p.getService("ms.vss-tfs-web.tfs-page-data-service");case 4:return n=e.sent,e.next=7,n.getProject();case 7:return r=e.sent,(a={}).name=t,e.next=12,Q.createRepository(a,r.name);case 12:return s=e.sent,(i={}).name="refs/heads/develop",i.oldObjectId="0000000000000000000000000000000000000000",(c={}).path="/README.md",(o={}).content=o.content="### Made with Stack Board Extensions",o.contentType=Z.ItemContentType.RawText,(l={}).changeType=Z.VersionControlChangeType.Add,l.item=c,l.newContent=o,(d={}).comment="Initial commit.",d.changes=[l],(m={}).refUpdates=[i],m.commits=[d],e.next=33,Q.createPush(m,s.id,r.name);case 33:return e.abrupt("return",s);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=n(105),ee=Object(W.getClient)($.BuildRestClient);function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(u.a.mark((function e(t){var n,r,a,s,i,c,o,l,d,m,h,j,f,g,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ready();case 2:return e.next=4,p.getService("ms.vss-tfs-web.tfs-page-data-service");case 4:return n=e.sent,e.next=7,n.getProject();case 7:return r=e.sent,(a={}).type="TfsGit",a.id=t.repositoryId,a.defaultBranch="refs/heads/develop",(s={}).identifier="ubuntu-20.04",(i={}).agentSpecification=s,(c={}).type=1,c.allowScriptsAuthAccessOption=!0,(o={}).id="4c770a38-2b38-4144-aae5-32d81b7a5c0c",o.versionSpec="0.*",o.definitionType="task",(l={}).task=o,l.displayName="Stack Board Repos",l.enabled=!0,l.inputs={sourceRepository:t.template.gitUrl},(d={}).name="Agent job 1",d.refName="Job_1",d.condition="succeeded()",d.jobAuthorizationScope=1,d.target=c,d.steps=[l],(m={}).type=1,m.target=i,m.phases=[d],(h={}).isHosted=!0,h.name="Azure Pipelines",(j={}).pool=h,j.name="Azure Pipelines",(f={}).name="STACKBOARD-REPOS-".concat(t.name.toUpperCase()),f.type=$.DefinitionType.Build,f.repository=a,f.process=m,f.queue=j,(g={}).isSecret=!0,g.value=t.template.pass,(v={}).isSecret=!0,v.value=t.template.user,f.variables={PAT:g,UserName:v},e.next=60,ee.createDefinition(f,r.name);case 60:return e.abrupt("return",e.sent);case 61:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re,ae=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).service=c.getService(f),r.state={currentProject:{id:"",name:"",repoName:"",status:"running"}},r}return Object(i.a)(n,[{key:"onInputChange",value:function(e,t,n){var r=e.target.id.replace("__bolt-","");n.state.currentProject[r]=t,this.setState({currentProject:n.state.currentProject})}},{key:"isValid",value:function(){var e=this.state.currentProject;return!!e.name&&""!==e.name.trim()&&!!e.template&&""!==e.template.id.trim()&&!!e.repoName&&""!==e.repoName.trim()}},{key:"createNewProject",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.currentProject,e.next=3,X(n.repoName);case 3:return r=e.sent,a={name:n.name,repositoryId:r.id,template:n.template},e.next=7,te(a);case 7:s=e.sent,n.id=N.Guid.create().toString(),n.repoUrl=r.webUrl,n.buildDefinitionId=s.id,n.startTime=new Date,t.service.saveProject(n).then((function(e){t.props.onDismiss()}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.currentProject;return this.props.show?Object(K.jsx)(I.a,{onDismiss:this.props.onDismiss,titleProps:{text:"Create new project"},description:"Create new project from a template.",footerButtonProps:[{text:"Cancel",onClick:this.props.onDismiss},{text:"Create",primary:!0,onClick:function(t){e.createNewProject(e)},disabled:!this.isValid()}],children:Object(K.jsxs)("div",{className:"project--content",children:[Object(K.jsx)("div",{className:"project--group",children:Object(K.jsx)(A.a,{inputId:"name",label:"Name *",value:t.name,placeholder:"Name your project name",onChange:function(t,n){return e.onInputChange(t,n,e)}})}),Object(K.jsx)("div",{className:"project--group",children:Object(K.jsx)(H.Dropdown,{ariaLabel:"Basic",className:"example-dropdown",placeholder:"Select a template",items:this.props.template,onSelect:function(n,r){t.template=r,e.setState({currentProject:t})}})}),Object(K.jsxs)("div",{className:"project--group",children:[Object(K.jsx)("label",{className:"project--group-label",children:"Repository name *"}),Object(K.jsx)("div",{className:"project--group",children:Object(K.jsx)(A.a,{inputId:"repoName",value:t.repoName,placeholder:"Company.Service.Name",onChange:function(t,n){return e.onInputChange(t,n,e)}})})]})]})}):null}}]),n}(y.a.Component),se=n(38),ie=n(56),ce=n(16);!function(e){e.Running="running",e.Succeeded="succeeded",e.Failed="failed",e.Warning="warning"}(re||(re={}));var oe=[{id:"dd685ebc-19ee-5517-1b3f-329178b21137",name:"Push2",repoName:"Eleve.Service.Push2",status:"running",template:{id:"b7a9ce66-96d3-2e69-61c3-80cf54a7eabe",replaceKey:"AppName",text:"React App",description:"um has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to m",gitUrl:"https://dev.azure.com/elevenfinancial/Tribe%20-%20PeD/_git/Eleven.Libs.Foundation",user:"",pass:"",tags:[{id:3,text:"React"},{id:1,text:"C#"}]},repoUrl:"https://dev.azure.com/elevenfinancial/Tribe%20-%20PeD/_git/Eleve.Service.Push2",buildDefinitionId:57,startTime:new Date},{id:"f121ae71-e50d-db4b-20f4-5b9bd13dfd99",name:"Push3",repoName:"Eleve.Service.Push3",status:"running",template:{id:"e219db83-30e1-3bec-88bd-b58d13ef842d",replaceKey:"ServiceName",text:"Microservice",description:"um has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to m",gitUrl:"https://dev.azure.com/elevenfinancial/Tribe%20-%20PeD/_git/Eleven.Libs.Foundation",user:"",pass:"",tags:[{id:1,text:"C#"}]},repoUrl:"https://dev.azure.com/elevenfinancial/Tribe%20-%20PeD/_git/Eleve.Service.Push3",buildDefinitionId:58,startTime:new Date}];function ue(e,t,n,r){return Object(K.jsxs)(F.SimpleTableCell,{columnIndex:t,tableColumn:n,contentClassName:"fontWeightSemiBold font-weight-semibold fontSizeM font-size-m scroll-hidden",children:[Object(K.jsx)(ie.a,Object(se.a)(Object(se.a)({},this.getStatusIndicator(r.status).statusProps),{},{className:"icon-large-margin",size:ie.b.l})),Object(K.jsx)("div",{className:"flex-row scroll-hidden",children:Object(K.jsx)(ce.Tooltip,{overflowOnly:!0,children:Object(K.jsx)("span",{className:"text-ellipsis",children:r.name})})})]},"col-"+t)}var le=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).templateService=c.getService(h),r.projectService=c.getService(f),r.columns=[{id:"name",name:"Projects",renderCell:ue,readonly:!0,sortProps:{ariaLabelAscending:"Sorted A to Z",ariaLabelDescending:"Sorted Z to A"},width:-33},new F.ColumnMore((function(){return{id:"sub-menu",items:[{id:"download",text:"Download"},{id:"delete",text:"Delete"}]}}))],r.itemProvider=new R.d(new D.a(r.state?r.state.projects:[])),r.sortingBehavior=new F.ColumnSorting((function(e,t){r.itemProvider.value=new D.a(Object(F.sortItems)(e,t,[function(e,t){return e.name.localeCompare(t.name)}],r.columns,r.state?r.state.projects:[]))})),r.state={templateExpanded:!1,projectExpanded:!1,template:[],projects:oe},r.loadTemplate(),r.loadProjects(),r}return Object(i.a)(n,[{key:"loadTemplate",value:function(){var e=this;this.templateService.getTemplate().then((function(t){e.setState({template:t})}))}},{key:"loadProjects",value:function(){var e=this;this.projectService.getProject().then((function(t){e.setState({projects:t})}))}},{key:"render",value:function(){var e=this,t=this.state.projects;return Object(K.jsxs)(C.a,{className:"flex-grow",children:[Object(K.jsxs)(w.a,{className:"bolt-header-with-commandbar",children:[Object(K.jsxs)(w.e,{children:[Object(K.jsx)(w.f,{children:Object(K.jsx)(w.d,{className:"text-ellipsis",titleSize:w.g.Large,children:"Projects"})}),Object(K.jsx)(w.c,{children:"Projects list generated from templates"})]}),Object(K.jsxs)(k.ButtonGroup,{children:[Object(K.jsx)(P.Button,{text:"Create",iconProps:{iconName:"Add"},primary:!0,onClick:function(){return e.setState({projectExpanded:!0})}}),Object(K.jsx)(P.Button,{ariaLabel:"Settings",iconProps:{iconName:"Settings"},onClick:function(){return e.setState({templateExpanded:!0})}})]})]}),Object(K.jsxs)("div",{className:"page-content page-content-top",children:[0==t.length&&Object(K.jsx)(J.a,{primaryText:"Get started your first project",secondaryText:Object(K.jsx)("span",{children:"Save time by creating a new project from templates."}),imageAltText:"Bars",imagePath:"https://cdn.vsassets.io/ext/ms.vss-code-web/import-content/repoNotFound.bVoHtlP2mhhyPo5t.svg",actionText:"Create",actionType:J.b.ctaButton,onActionClick:function(t,n){return e.setState({projectExpanded:!0})}}),t.length>0&&Object(K.jsx)(S.Card,{className:"flex-grow bolt-table-card",contentProps:{contentPadding:!1},titleProps:{text:"All projects"},children:Object(K.jsx)(E.Observer,{itemProvider:this.itemProvider,children:function(t){return Object(K.jsx)(F.Table,{ariaLabel:"Projects table",behaviors:[e.sortingBehavior],columns:e.columns,containerClassName:"h-scroll-auto",itemProvider:t.itemProvider,showLines:!0,onSelect:function(e,t){return console.log("Selected Row - "+t.index)},onActivate:function(e,t){return console.log("Activated Row - "+t.index)}})}})})]}),Object(K.jsx)(q,{show:this.state.templateExpanded,onDismiss:function(){e.setState({templateExpanded:!1}),e.loadTemplate()}}),Object(K.jsx)(ae,{template:this.state.template,show:this.state.projectExpanded,onDismiss:function(){e.setState({projectExpanded:!1}),e.loadTemplate()}})]})}}]),n}(y.a.Component),pe=(n(255),y.a.Component,function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).projectService=p.getService("ms.vss-features.host-navigation-service"),p.init(),r.state={page:""},r.projectService.then((function(e){e.getPageRoute().then((function(e){r.setState({page:e.routeValues.parameters})}))})),r}return Object(i.a)(n,[{key:"render",value:function(){return Object(K.jsx)(v.b,{background:v.c.neutral,children:Object(K.jsx)(le,{})})}}]),n}(y.a.Component));a.a.render(Object(K.jsx)(v.d.Provider,{value:{background:v.c.neutral},children:Object(K.jsx)(pe,{})}),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.e2e1225c.chunk.js.map